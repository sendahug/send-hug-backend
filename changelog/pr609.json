{
  "pr_number": 609,
  "changes": [
    {
      "change": "Changes",
      "description": "Moved all endpoint-specific code from the database helpers to the relevant endpoints. The database helpers should be generic and simply commit to the database, handle errors and close the current session, but previously they also dealt with model-specific actions (e.g., deleting messages, posts and threads). Now, the model/endpoint-specific code was moved to the relevant endpoints, and the database helpers only include the code for communicating with the database, handling errors raised by it, and closing the session once the update is done."
    },
    {
      "change": "Changes",
      "description": "Replaced the `delete_all` helper function with a function for bulk updating and deleting. While the old function required a delete target and the ID of the user whose items to should be deleted, the new function simple requires a list of `delete` statements to run and a list of objects that were updated and should be committed to the database. This allows us to perform multiple deletes and updates within the same session, and moves the responsibility for updating/deleting to the endpoint."
    }
  ]
}
