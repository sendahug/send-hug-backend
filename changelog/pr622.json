{
  "pr_number": 622,
  "changes": [
    {
      "change": "Breaking Changes",
      "description": "Replaced Auth0 with Firebase as the primary Auth Provider. The Send a Hug team determined that Firebase is a better fit for our long-term purposes, so we decided to make the switch. This change includes:\n\t- Replaced the Auth0_id column in the users' table with a Firebase_id column.\n\t- Added a firebase app attribute to the app's config. The initialised app is then used to verify the JWTs in the incoming requests.\n\t- Updated the token verification process to use Firebase's `verify_id_token` method instead of fetching the required keys from Auth0 and manually verifying the token is valid using Python-Jose."
    },
    {
      "change": "Changes",
      "description": "Deleted the old permissions-checking method. Instead, authorisation is skipped entirely in the 'create users' endpoint, and only the valid JWT (authentication) is checked. Having the roles in the JWT is an Auth0 feature, which is no longer relevant in the app."
    },
    {
      "change": "Chores",
      "description": "Changed the way the different roles are tested. Previously, we made requests to Auth0 to generate tokens for each of the roles so we could make requests with them. This made tests slower and relied on having an internet connection. Now, we mock the JWT verification process to return the relevant user's details (depending on the user being tested) without a real token, which allows running tests more quickly and without the need to generate JWTs."
    }
  ]
}
